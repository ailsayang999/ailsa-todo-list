(this["webpackJsonptodolist-react"]=this["webpackJsonptodolist-react"]||[]).push([[0],{178:function(e,n,t){},179:function(e,n,t){},203:function(e,n){},205:function(e,n){},217:function(e,n){},219:function(e,n){},247:function(e,n){},249:function(e,n){},250:function(e,n){},255:function(e,n){},257:function(e,n){},263:function(e,n){},265:function(e,n){},284:function(e,n){},296:function(e,n){},299:function(e,n){},331:function(e,n,t){"use strict";t.r(n);var r,a,c,o,i,s,u,l,d,p,b,f,j,h=t(0),x=t.n(h),O=t(168),v=t.n(O),m=(t(178),t(179),t(20)),g=t(4),k=t(3),w=t(8),y=t(7),C=t(17),D=t(41),T=t.n(D),S="https://todo-list.alphacamp.io/api/auth",E=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t,r,a,c;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,r=n.password,e.prev=1,e.next=4,T.a.post("".concat(S,"/login"),{username:t,password:r});case 4:if(a=e.sent,c=a.data,console.log(c),!c.authToken){e.next=10;break}return e.abrupt("return",Object(C.a)({success:!0},c));case 10:return e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(1),console.error("[Login Failed]:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),z=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t,r,a,c,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.username,r=n.email,a=n.password,e.prev=1,e.next=4,T.a.post("".concat(S,"/register"),{username:t,email:r,password:a});case 4:if(c=e.sent,o=c.data,console.log(o),!o.authToken){e.next=10;break}return e.abrupt("return",Object(C.a)({success:!0},o));case 10:return e.abrupt("return",o);case 13:e.prev=13,e.t0=e.catch(1),console.error("[Register Failed]: ",e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(n){return e.apply(this,arguments)}}(),N=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get("".concat(S,"/test-token"),{headers:{Authorization:"Bearer "+n}});case 3:return t=e.sent,e.abrupt("return",t.data.success);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Check Permission Failed]",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),A=t(65),B=t(1),F={isAuthenticated:!1,currentMember:null,register:null,login:null,logout:null},M=function(){return Object(h.useContext)(I)},I=Object(h.createContext)(F),P=function(e){var n=e.children,t=Object(h.useState)(!1),r=Object(y.a)(t,2),a=r[0],c=r[1],o=Object(h.useState)(null),i=Object(y.a)(o,2),s=i[0],u=i[1],l=Object(g.i)().pathname;return Object(h.useEffect)((function(){var e=function(){var e=Object(w.a)(Object(k.a)().mark((function e(){var n,t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("authToken")){e.next=5;break}return c(!1),u(null),e.abrupt("return");case 5:return e.next=7,N(n);case 7:e.sent?(c(!0),t=A.decode(n),u(t)):(c(!1),u(null));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l]),Object(B.jsx)(I.Provider,{value:{isAuthenticated:a,currentMember:s&&{id:s.sub,name:s.name},register:function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t,r,a,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z({username:n.username,email:n.email,password:n.password});case 2:return t=e.sent,r=t.success,a=t.authToken,(o=A.decode(a))?(u(o),c(!0),localStorage.setItem("authToken",a)):(u(null),c(!1)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),login:function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t,r,a,o;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E({username:n.username,password:n.password});case 2:return t=e.sent,r=t.success,a=t.authToken,(o=A.decode(a))?(u(o),c(!0),localStorage.setItem("authToken",a)):(u(null),c(!1)),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),logout:function(){localStorage.removeItem("authToken"),u(null),c(!1)}},children:n})},K=function(){var e=M().isAuthenticated,n=Object(g.l)();Object(h.useEffect)((function(){n(e?"/todo":"/login")}),[n,e])},L=t(12),R=t(13),V=R.a.div(r||(r=Object(L.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 50px;\n"]))),J=R.a.div(a||(a=Object(L.a)(["\n  width: 50%;\n  margin-top: 30px;\n"]))),q=R.a.button(c||(c=Object(L.a)(["\n  border-radius: 30px;\n  background-color: skyblue;\n  border: none;\n\n  color: white;\n  min-width: 300px;\n  font-family: 'Noto Sans TC', sans-serif;\n  font-weight: bold;\n  padding: 6px 0;\n  margin: 2rem 0;\n\n  &.hover {\n    cursor: pointer;\n  }\n"]))),G=R.a.div(o||(o=Object(L.a)(["\n  color: #0062ff;\n  font-size: 16px;\n  font-weight: 400;\n"]))),H=t(63),U=R.a.div(i||(i=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  background-color: #f5f8fa;\n  width: 100%;\n  height: 54px;\n  border-bottom: 2px solid black;\n"]))),Q=R.a.label(s||(s=Object(L.a)(["\n  font-size: 14;\n  color: '#696974';\n  text-align: start;\n"]))),W=R.a.input(u||(u=Object(L.a)(["\n  outline: none;\n  border: none;\n  background-color: #f5f8fa;\n  border-radius: 0px;\n"]))),X=function(e){var n=e.type,t=e.label,r=e.value,a=e.placeholder,c=e.onChange;return Object(B.jsxs)(U,{children:[Object(B.jsx)(Q,{children:t}),Object(B.jsx)(W,{type:n||"text",placeholder:a,value:r,onChange:function(e){return c(e.target.value)}})]})},Y=R.a.header(l||(l=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  color: var(--major);\n  padding: 0 16px;\n\n  h3 {\n    font-weight: 400;\n    user-select: none;\n  }\n"]))),Z=R.a.div(d||(d=Object(L.a)(["\n  color: var(--gray);\n  span {\n    color: var(--major);\n  }\n"]))),$=function(e){var n=e.username;return Object(B.jsxs)(Y,{children:[Object(B.jsx)("h3",{children:"Tasks"}),Object(B.jsxs)(Z,{children:["Hi ",Object(B.jsx)("span",{children:n})]})]})},_=t(51),ee=R.a.div(p||(p=Object(L.a)(["\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  &.active {\n    box-shadow: 0 17px 0 -16px var(--major);\n  }\n"]))),ne=R.a.label(b||(b=Object(L.a)(["\n  display: inline-flex;\n  font-size: 30px;\n  transition: color 0.2s ease-out;\n  font-weight: 300;\n\n  &:after {\n    content: '+';\n  }\n"]))),te=R.a.div(f||(f=Object(L.a)(["\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  flex: 1;\n  user-select: none;\n\n  input {\n    flex: 1;\n    padding: 8px 12px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--major);\n      font-size: 13px;\n    }\n  }\n  .active {\n    input::placeholder {\n      color: var(--gray);\n    }\n  }\n"]))),re=R.a.div(j||(j=Object(L.a)(["\n  button {\n    font-size: 13px;\n    color: var(--major);\n    padding-right: 5px;\n    display: none;\n  }\n\n  &.active {\n    button {\n      display: block;\n    }\n  }\n"]))),ae=function(e){var n=e.inputValue,t=e.onChange,r=e.onKeyDone,a=e.onAddTodo;return Object(B.jsxs)(ee,{className:Object(_.a)("",{active:n.length>0}),children:[Object(B.jsx)(ne,{className:"icon",htmlFor:"add-todo-input"}),Object(B.jsx)(te,{children:Object(B.jsx)("input",{id:"add-todo-input",type:"text",placeholder:"\u65b0\u589e\u5de5\u4f5c",value:n,onChange:function(e){t(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&r(n)}})}),Object(B.jsx)(re,{className:Object(_.a)("",{active:n.length>0}),children:Object(B.jsx)("button",{className:"btn-reset",onClick:function(){return a(n)},children:"\u65b0\u589e"})})]})};t.p;var ce,oe,ie,se=t.p+"static/media/check-active.87d3b5e3.svg",ue=t.p+"static/media/check-circle.2a77142c.svg",le=t.p+"static/media/check-hover.3c65dcae.svg",de=R.a.div(ce||(ce=Object(L.a)(["\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  .task-item-body-input {\n    user-select: none;\n    display: none;\n    flex: 1;\n    padding: 8px 0px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--gray);\n      font-size: 13px;\n    }\n  }\n\n  &:hover {\n    background: #ebfbff;\n    box-shadow: inset 0 0 0 1px #ebfbff;\n\n    .task-item-action .btn-destroy {\n      display: inline-flex;\n    }\n  }\n\n  &.done {\n    .task-item-body {\n      color: var(--gray);\n      text-decoration: line-through;\n    }\n\n    .icon-checked {\n      background-image: url(",");\n    }\n  }\n\n  &.edit {\n    .task-item-body-input {\n      display: block;\n    }\n    .task-item-body-text {\n      display: none;\n    }\n    .task-item-action {\n      display: none;\n    }\n  }\n\n  .task-item-checked {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .task-item-body {\n    font-weight: 400;\n    padding: 8px 12px;\n    flex: 1;\n    display: flex;\n  }\n\n  .task-item-action {\n    .btn-destroy {\n      display: none;\n      font-size: 30px;\n      transition: color 0.2s ease-out;\n      font-weight: 300;\n      &:after {\n        content: '\xd7';\n      }\n    }\n  }\n\n  .icon-checked {\n    background-image: url(",");\n    background-position: center;\n    background-repeat: no-repeat;\n\n    &:hover {\n      transition: background-image 0.5s;\n      background-image: url(",");\n    }\n  }\n"])),se,ue,le),pe=function(e){var n=e.todo,t=e.onToggleDone,r=e.onSave,a=e.onDelete,c=e.onChangeMode,o=Object(h.useRef)(null);return Object(B.jsxs)(de,{className:Object(_.a)("",{done:n.isDone,edit:n.isEdit}),children:[Object(B.jsx)("div",{className:"task-item-checked",children:Object(B.jsx)("span",{className:"icon icon-checked",onClick:function(){t(n.id)}})}),Object(B.jsxs)("div",{className:"task-item-body",onDoubleClick:function(){c({id:n.id,isEdit:!0})},children:[Object(B.jsx)("span",{className:"task-item-body-text",children:n.title}),Object(B.jsx)("input",{ref:o,className:"task-item-body-input",defaultValue:n.title,onKeyDown:function(e){o.current.value.length>0&&"Enter"===e.key&&r({id:n.id,title:o.current.value}),"Escape"===e.key&&c({id:n.id,isEdit:!1})}})]}),Object(B.jsx)("div",{className:"task-item-action ",children:Object(B.jsx)("button",{className:"btn-reset btn-destroy icon",onClick:function(){a(n.id)}})})]})},be=function(e){var n=e.todos,t=e.onToggleDone,r=e.onSave,a=e.onDelete,c=e.onChangeMode;return Object(B.jsxs)("div",{children:["TodoCollection",n.map((function(e){return Object(B.jsx)(pe,{todo:e,onToggleDone:t,onChangeMode:c,onSave:r,onDelete:a},e.id)}))]})},fe=R.a.footer(oe||(oe=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n\n  padding: 0 16px;\n  p {\n    font-size: 14px;\n    font-weight: 300;\n    margin: 2rem 0 1rem;\n  }\n"]))),je=R.a.button(ie||(ie=Object(L.a)(["\n  padding: 0;\n  border: 0;\n  background: none;\n  vertical-align: baseline;\n  appearance: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  cursor: pointer;\n  outline: 0;\n\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2rem 0 1rem;\n  &:hover {\n    text-decoration: underline;\n  }\n"]))),he=function(e){var n=e.numOfTodos,t=M().logout;return Object(B.jsxs)(fe,{children:[Object(B.jsxs)("p",{children:["\u5269\u9918\u9805\u76ee\u6578\uff1a ",n]}),Object(B.jsx)(je,{onClick:function(){t()},children:"\u767b\u51fa"})]})},xe=t(42),Oe=t.n(xe),ve=function(){var e=Object(h.useState)(""),n=Object(y.a)(e,2),t=n[0],r=n[1],a=Object(h.useState)(""),c=Object(y.a)(a,2),o=c[0],i=c[1],s=Object(g.l)(),u=M(),l=u.login,d=u.isAuthenticated,p=function(){var e=Object(w.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==o.length){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,l({username:t,password:o});case 7:if(!e.sent){e.next=11;break}return Oe.a.fire({position:"top",title:"\u767b\u5165\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),e.abrupt("return");case 11:Oe.a.fire({position:"top",title:"\u767b\u5165\u5931\u6557\uff01",timer:1e3,icon:"error",showConfirmButton:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}();return Object(h.useEffect)((function(){d&&s("/todos")}),[s,d]),Object(B.jsxs)(V,{children:[Object(B.jsx)("div",{children:Object(B.jsx)(H.a,{style:{color:"skyblue",fontSize:"37px"}})}),Object(B.jsx)("h1",{children:"\u767b\u5165 Todo"}),Object(B.jsx)(J,{children:Object(B.jsx)(X,{label:"\u5e33\u865f",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(e){return r(e)}})}),Object(B.jsx)(J,{children:Object(B.jsx)(X,{type:"password",label:"\u5bc6\u78bc",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:o,onChange:function(e){return i(e)}})}),Object(B.jsx)(q,{onClick:p,children:"\u767b\u5165"}),Object(B.jsx)(m.b,{to:"/signup",children:Object(B.jsx)(G,{children:"\u8a3b\u518a"})})]})},me=function(){var e=Object(h.useState)(""),n=Object(y.a)(e,2),t=n[0],r=n[1],a=Object(h.useState)(""),c=Object(y.a)(a,2),o=c[0],i=c[1],s=Object(h.useState)(""),u=Object(y.a)(s,2),l=u[0],d=u[1],p=Object(g.l)(),b=M(),f=b.register,j=b.isAuthenticated,x=function(){var e=Object(w.a)(Object(k.a)().mark((function e(){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:if(0!==l.length){e.next=4;break}return e.abrupt("return");case 4:if(0!==o.length){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,f({username:t,email:o,password:l});case 8:if(!e.sent){e.next=12;break}return Oe.a.fire({position:"top",title:"\u8a3b\u518a\u6210\u529f\uff01",timer:1e3,icon:"success",showConfirmButton:!1}),e.abrupt("return");case 12:Oe.a.fire({position:"top",title:"\u8a3b\u518a\u5931\u6557\uff01",timer:1e3,icon:"error",showConfirmButton:!1});case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.useEffect)((function(){j&&p("/todos")}),[p,j]),Object(B.jsxs)(V,{children:[Object(B.jsx)("div",{children:Object(B.jsx)(H.a,{style:{color:"skyblue",fontSize:"37px"}})}),Object(B.jsx)("h1",{children:"\u5efa\u7acb\u60a8\u7684\u5e33\u865f"}),Object(B.jsx)(J,{children:Object(B.jsx)(X,{label:"\u5e33\u865f",placeholder:"\u8acb\u8f38\u5165\u5e33\u865f",value:t,onChange:function(e){return r(e)}})}),Object(B.jsx)(J,{children:Object(B.jsx)(X,{label:"Email",placeholder:"\u8acb\u8f38\u5165email",value:o,onChange:function(e){return i(e)}})}),Object(B.jsx)(J,{children:Object(B.jsx)(X,{type:"password",label:"\u5bc6\u78bc",placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc",value:l,onChange:function(e){return d(e)}})}),Object(B.jsx)(q,{onClick:x,children:"\u8a3b\u518a"}),Object(B.jsx)(m.b,{to:"/login",children:Object(B.jsx)(G,{children:"\u53d6\u6d88"})})]})},ge=t(16),ke="https://todo-list.alphacamp.io/api",we=T.a.create({baseURL:ke});we.interceptors.request.use((function(e){var n=localStorage.getItem("authToken");return n&&(e.headers.Authorization="Bearer ".concat(n)),e}),(function(e){console.error(e)}));var ye=function(){var e=Object(w.a)(Object(k.a)().mark((function e(){var n;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.get("".concat(ke,"/todos"));case 3:return n=e.sent,e.abrupt("return",n.data.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Get Todos failed]: ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t,r,a;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.title,r=n.isDone,e.prev=1,e.next=4,we.post("".concat(ke,"/todos"),{title:t,isDone:r});case 4:return a=e.sent,e.abrupt("return",a.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("[Create Todo failed]: ",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),De=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t,r,a,c;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,r=n.title,a=n.isDone,e.prev=1,e.next=4,we.patch("".concat(ke,"/todos/").concat(t),{title:r,isDone:a});case 4:return c=e.sent,e.abrupt("return",c.data);case 8:e.prev=8,e.t0=e.catch(1),console.error("[Patch Todo failed]:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(n){return e.apply(this,arguments)}}(),Te=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,we.delete("".concat(ke,"/todos/").concat(n));case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error("[Delete Todo failed]:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),Se=function(){var e=Object(h.useState)(""),n=Object(y.a)(e,2),t=n[0],r=n[1],a=Object(h.useState)([]),c=Object(y.a)(a,2),o=c[0],i=c[1],s=o.length,u=Object(g.l)(),l=M(),d=l.isAuthenticated,p=l.currentMember,b=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ce({title:n,isDone:!1});case 5:t=e.sent,i((function(e){return[].concat(Object(ge.a)(e),[{id:t.id,title:t.title,isDone:t.isDone,isEdit:!1}])})),r(""),console.log(t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.length){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Ce({title:n,isDone:!1});case 5:t=e.sent,i((function(e){return[].concat(Object(ge.a)(e),[{id:t.id,title:t.title,isDone:t.isDone,isEdit:!1}])})),r(""),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),j=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.find((function(e){return e.id===n})),e.prev=1,e.next=4,De({id:n,isDone:!t.isDone});case 4:i((function(e){return e.map((function(e){return e.id===n?Object(C.a)(Object(C.a)({},e),{},{isDone:!e.isDone}):e}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){var t,r;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.id,r=n.title,e.prev=1,e.next=4,De({id:t,title:r});case 4:i((function(e){return e.map((function(e){return e.id===t?Object(C.a)(Object(C.a)({},e),{},{title:r,isEdit:!1}):e}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n){return e.apply(this,arguments)}}(),O=function(){var e=Object(w.a)(Object(k.a)().mark((function e(n){return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Te(n);case 3:i((function(e){return e.filter((function(e){return e.id!==n}))})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}();return Object(h.useEffect)((function(){var e=function(){var e=Object(w.a)(Object(k.a)().mark((function e(){var n;return Object(k.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ye();case 3:n=e.sent,i(n.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{isEdit:!1})}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(h.useEffect)((function(){d||u("/login")}),[u,d]),Object(B.jsxs)("div",{children:["TodoPage",Object(B.jsx)($,{username:null===p||void 0===p?void 0:p.name}),Object(B.jsx)(ae,{inputValue:t,onChange:function(e){r(e)},onAddTodo:b,onKeyDone:f}),Object(B.jsx)(be,{todos:o,onToggleDone:j,onChangeMode:function(e){var n=e.id,t=e.isEdit;i((function(e){return e.map((function(e){return e.id===n?Object(C.a)(Object(C.a)({},e),{},{isEdit:t}):Object(C.a)(Object(C.a)({},e),{},{isEdit:!1})}))}))},onSave:x,onDelete:O}),Object(B.jsx)(he,{numOfTodos:s})]})};var Ee=function(){return Object(B.jsx)("div",{className:"app",children:Object(B.jsx)(m.a,{basename:"/ailsa-todo-list",children:Object(B.jsx)(P,{children:Object(B.jsxs)(g.c,{children:[Object(B.jsx)(g.a,{path:"login",element:Object(B.jsx)(ve,{})}),Object(B.jsx)(g.a,{path:"signup",element:Object(B.jsx)(me,{})}),Object(B.jsx)(g.a,{path:"todos",element:Object(B.jsx)(Se,{})}),Object(B.jsx)(g.a,{path:"*",element:Object(B.jsx)(K,{})})]})})})})},ze=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,332)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,c=n.getLCP,o=n.getTTFB;t(e),r(e),a(e),c(e),o(e)}))};v.a.createRoot(document.getElementById("root")).render(Object(B.jsx)(x.a.StrictMode,{children:Object(B.jsx)(Ee,{})})),ze()}},[[331,1,2]]]);
//# sourceMappingURL=main.ad779145.chunk.js.map