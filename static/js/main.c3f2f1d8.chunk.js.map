{"version":3,"sources":["api/auth.js","contexts/AuthContext.jsx","pages/HomePage.jsx","components/common/auth.styled.js","components/AuthInput.jsx","components/Header.jsx","components/TodoInput.jsx","assets/images/ac-logo.svg","assets/images/check-active.svg","assets/images/check-circle.svg","assets/images/check-hover.svg","components/TodoItem.jsx","components/TodoCollection.jsx","components/Footer.jsx","pages/LoginPage.jsx","pages/SignUpPage.jsx","api/todos.js","pages/TodoPage.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["authURL","login","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","username","password","_yield$axios$post","data","wrap","_context","prev","next","axios","post","concat","sent","console","log","authToken","abrupt","_objectSpread","success","t0","error","stop","_x","apply","arguments","register","_ref4","_callee2","_ref3","email","_yield$axios$post2","_context2","_x2","checkPermission","_ref5","_callee3","response","_context3","get","headers","Authorization","_x3","defaultAuthContext","isAuthenticated","currentMember","logout","useAuth","useContext","AuthContext","createContext","AuthProvider","children","_useState","useState","_useState2","_slicedToArray","setIsAuthenticated","_useState3","_useState4","payload","setPayload","pathname","useLocation","useEffect","checkTokenIsValid","tempPayload","localStorage","getItem","jwt","_jsx","Provider","value","id","sub","name","_register2","_yield$_register","setItem","_login2","_yield$_login","removeItem","HomePage","navigate","useNavigate","StyedContainer","styled","div","_templateObject","_taggedTemplateLiteral","StyledAuthInputContainer","_templateObject2","StyledButton","button","_templateObject3","StyledLinkText","_templateObject4","StyledContainer","StyledLabel","label","StyledInput","input","AuthInput","type","placeholder","onChange","_jsxs","e","target","StyledHeader","header","StyledGreetingText","Header","StyledAddTodoContainer","StyledLabelIcon","StyledInputContainer","StyledAddTodoActionContainer","TodoInput","inputValue","onKeyDone","onAddTodo","className","clsx","active","length","htmlFor","onKeyDown","key","onClick","StyledTaskItem","CheckActiveIcon","CheckCircleIcon","CheckHoverIcon","TodoItem","todo","onToggleDone","onSave","onDelete","onChangeMode","inputRef","useRef","done","isDone","edit","isEdit","onDoubleClick","title","ref","defaultValue","event","current","TodoCollection","todos","map","StyledFooter","footer","Footer","numOfTodos","LoginPage","setUserName","setPassword","_useAuth","handleClick","Swal","fire","position","timer","icon","showConfirmButton","AuthContainer","SiTodoist","style","color","fontSize","AuthInputContainer","nameInputValue","passwordInputValue","AuthButton","Link","to","AuthLinkText","SignUpPage","setUsername","setEmail","_useState5","_useState6","emailInputValue","baseUrl","axiosInstance","create","baseURL","interceptors","request","use","config","token","getTodos","res","createTodo","patchTodo","patch","deleteTodo","_callee4","_context4","delete","TodoPage","setInputValue","setTodos","todoNums","handleAddTodo","prevTodos","_toConsumableArray","handleKeyPress","handleToggleDone","currentTodo","find","handleSave","_ref6","_x4","handleDelete","_ref7","_callee5","_context5","prevTodo","filter","_x5","getTodosAsync","_ref8","_callee6","_todos","_context6","App","BrowserRouter","basename","process","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","React","StrictMode"],"mappings":"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","file":"static/js/main.c3f2f1d8.chunk.js","sourcesContent":["import axios from 'axios';\n\n//定義串接的 end point 網址\nconst authURL = 'https://todo-list.alphacamp.io/api/auth';\n\nexport const login = async ({ username, password }) => {\n  try {\n    //他會回傳我們一組auth token，因為axios的關係，回傳的response都會被封裝在一個data的物件裡面，我們用解構的方式取到data值\n    const { data } = await axios.post(`${authURL}/login`, {\n      username,\n      password,\n    });\n\n    //我們可以在這裡console.log一下看後端傳來的data有什麼\n    console.log(data);\n\n    //我們用解構的方式取到data裡面authToken的值\n    const { authToken } = data;\n    //如果authToken為true，則代表登入成功\n    if (authToken) {\n      return { success: true, ...data }; //在把後端傳來的成功data回傳資料給頁面做使用時，一併整理資料格式，加上 success 屬性做為 flag，之後就能用 success 屬性來判斷是否登入成功。這個data裡面有authToken會回傳出去\n    }\n\n    //登入失敗的話，我也必須讓我的頁面知道，並把後段的response data(這裡會是fail的data)給回傳給頁面\n    return data;\n  } catch (error) {\n    console.error('[Login Failed]:', error);\n  }\n};\n\nexport const register = async ({ username, email, password }) => {\n  try {\n    //相較於login多了一個email的payload\n    const { data } = await axios.post(`${authURL}/register`, {\n      username,\n      email,\n      password,\n    });\n\n    //我們可以在這裡console.log一下看後端傳來的data有什麼\n    console.log(data);\n\n    const { authToken } = data; \n\n    if (authToken) {\n      return { success: true, ...data };\n    }\n\n    return data;\n  } catch (error) {\n    console.error('[Register Failed]: ', error);\n  }\n};\n\n// 每個頁面身份驗證功能：串接 checkPermission 功能\n// 我們需要把authToken帶給後端去做驗證\n// payload指的是具有意義、有效的資料，放在body和URL裡參數也算是payload，所以get後面第二個參數整個是一個要給後端的payload\nexport const checkPermission = async (authToken) => {\n  try {\n    const response = await axios.get(`${authURL}/test-token`, {\n      headers: {\n        Authorization: 'Bearer ' + authToken,\n      },\n    });\n\n    return response.data.success;\n  } catch (err) {\n    console.error('[Check Permission Failed]', err);\n  }\n};\n","import { createContext, useContext, useState, useEffect } from 'react';\nimport { register, login, checkPermission } from 'api/auth';\nimport * as jwt from 'jsonwebtoken';\nimport { useLocation } from 'react-router-dom';\n\nconst defaultAuthContext = {\n  isAuthenticated: false, // 使用者是否登入的判斷依據，預設為 false，若取得後端的有效憑證，則切換為 true\n  currentMember: null, // 當前使用者相關資料，預設為 null，成功登入後就會有使用者資料\n  register: null, // 註冊方法\n  login: null, // 登入方法\n  logout: null, // 登入方法\n};\n\n// 為了要讓每一頁都可以取得到Context的值，我們要去輸出我們context的Hook，這樣我們就不用每一頁都寫useContext了！\nexport const useAuth = ()=> useContext(AuthContext)\n\n\nconst AuthContext = createContext(defaultAuthContext);\n\nexport const AuthProvider = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [payload, setPayload] = useState(null);\n\n  // 用react-router-dom裡面useLocation的Hook取得當前頁面是否有切換的資訊，用useLocation去取得pathname的props，我們可以透過pathname的值來去了解當前頁面的變化\n  const { pathname } = useLocation();\n\n  // 要把驗證每一頁的token是否為有效的function，放進AuthContext\n  useEffect(() => {\n    const checkTokenIsValid = async () => {\n      // 去localStorage取 authToken\n      const authToken = localStorage.getItem('authToken');\n      // 如果authToken不存在的話（比如說登出的時後）代表它就是一個為驗證未登入的狀態\n      if (!authToken) {\n        // 如果authToken不存在，要把isAuthenticated改成false\n        setIsAuthenticated(false);\n        //同時也不會有payload\n        setPayload(null);\n        return; //如果authToken不存在，我有不用再去做checkPermission的動作了\n      }\n      // 當我們的authToken是存在的話(使用者有登入或是註冊的時候)，就把authToken給checkPermission檢查，他會回傳是否是有效的登入或註冊(會回傳response.data.success，那這邊success裡面可能是true或false，這個boolean會被放到result裡面)\n      const result = await checkPermission(authToken);\n\n      if (result) {\n        //如果這個authToken是有效的話(result為true)，代表我們的身份是有經過驗證的\n        setIsAuthenticated(true);\n        // 那我們也把這個有效的authToken去做解析拿出payload存到tempPayload變數裡\n        const tempPayload = jwt.decode(authToken);\n        //把現在的payload內容更新為tempPayload\n        setPayload(tempPayload);\n      } else {\n        //如果驗證出來的結果為無效\n        setIsAuthenticated(false);\n        setPayload(null);\n      }\n    };\n    //當就執行checkTokenIsValid\n    checkTokenIsValid();\n  }, [pathname]); //當pathname有改變的話，我就去執行useEffect，去checkPermission\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isAuthenticated,\n        currentMember: payload && {\n          id: payload.sub,\n          name: payload.name,\n        }, //因為payload也可能會是null的狀態，所以我們要用&&去處理不是null的狀態，如果payload有存在，我們要去取得payload裡面的sub和name，可以看https://jwt.io/#debugger，可以看到我們解析authtoken裡面的payload有sub,name,iat，這樣如果有登入成功或是註冊成功的話，我們前端就會存到currentMember的相關資訊\n        register: async (data) => {\n          // 用解構去把success和authToken的值從return回來的data中取出來\n          const { success, authToken } = await register({\n            username: data.username,\n            email: data.email,\n            password: data.password,\n          });\n\n          // 拿到 register從後端回傳回來的response之後，我們會有一個資料，資料裡面會有success的boolean和authToken(是一個JWT token）那我們需要工具來解析authToken裡面的JWT token，要透過 jwt.decode 來解析，把 JWT token 裡的 payload 解析出來，此時需要先安裝 JSON Web Token 套件，才能使用 JWT 提供的解析方法\n          // 透過JSON Web Token 套件裡面提供的一個方法：jwt.decode(token)來拿到我們解析過後的payload，並儲存在tempPayload裡\n          const tempPayload = jwt.decode(authToken);\n\n          //確定tempPayload是存在的\n          if (tempPayload) {\n            //把payload的state改成這個從authToken裡面解析出來的payload內容\n            setPayload(tempPayload);\n\n            //然後因為tempPayload是存在的，也就代表是有拿到authToken的，就代表登入的狀態是有效的isAuthenticated設為true\n            setIsAuthenticated(true);\n\n            //因為確定是有拿到authToken的，所以要把這個authToken放到localStorage裡\n            localStorage.setItem('authToken', authToken);\n          } else {\n            setPayload(null); //如果其他狀況就是代表註冊失效，register()回傳回來的object中沒有authToken而逝success: false，那就要把payload設回成null\n            setIsAuthenticated(false); //註冊有成功的話都會回傳authToken，所以可以在這裡判斷，tempPayload沒有存在的話，就代表驗證沒成功\n          }\n\n          //最後要記得回傳success是true還false的結果，Context provider裡的value.register就有true false\n          return success;\n        },\n        login: async (data) => {\n          //用解構去把success和authToken的值從return回來的data中取出來\n          const { success, authToken } = await login({\n            username: data.username,\n            password: data.password,\n          });\n          //下面這裡跟register解析payload的方式是一樣的，只有上面呼叫的是login()\n          const tempPayload = jwt.decode(authToken);\n          if (tempPayload) {\n            setPayload(tempPayload);\n            setIsAuthenticated(true);\n            localStorage.setItem('authToken', authToken);\n          } else {\n            setPayload(null);\n            setIsAuthenticated(false); //登入有成功的話都會回傳authToken，所以可以在這裡判斷，tempPayload沒有存在的話，就代表驗證沒成功\n          }\n          //最後要記得回傳success是true還false的結果，Context provider裡的value.login就有true false\n          return success;\n        },\n        logout: () => {\n          //要把localStorage裡的authToken去移除\n          localStorage.removeItem('authToken');\n          //然後把前端內部的資料做更新\n          setPayload(null);\n          setIsAuthenticated(false);\n        },\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n","import { useAuth } from 'contexts/AuthContext';\nimport { useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nconst HomePage = () => {\n  const { isAuthenticated } = useAuth();\n  const navigate = useNavigate();\n  useEffect(() => {\n    //如果有驗證成功，直接到todo頁面\n    if (isAuthenticated) {\n      navigate('/todo');\n    } else {\n      //如果還沒驗證成功，直接到login頁面\n      navigate('/login');\n    }\n  }, [navigate, isAuthenticated]);\n};\n\nexport default HomePage;\n","import styled from 'styled-components';\n\nconst StyedContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  margin-top: 50px;\n`;\n\nconst StyledAuthInputContainer = styled.div`\n  width: 50%;\n  margin-top: 30px;\n`;\n\nconst StyledButton = styled.button`\n  border-radius: 30px;\n  background-color: skyblue;\n  border: none;\n\n  color: white;\n  min-width: 300px;\n  font-family: 'Noto Sans TC', sans-serif;\n  font-weight: bold;\n  padding: 6px 0;\n  margin: 2rem 0;\n\n  &.hover {\n    cursor: pointer;\n  }\n`;\n\nconst StyledLinkText = styled.div`\n  color: #0062ff;\n  font-size: 16px;\n  font-weight: 400;\n`;\n\nexport {\n  StyedContainer as AuthContainer,\n  StyledAuthInputContainer as AuthInputContainer,\n  StyledButton as AuthButton,\n  StyledLinkText as AuthLinkText,\n};\n","import styled from 'styled-components';\n\nconst StyledContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-around;\n  background-color: #f5f8fa;\n  width: 100%;\n  height: 54px;\n  border-bottom: 2px solid black;\n`;\nconst StyledLabel = styled.label`\n  font-size: 14;\n  color: '#696974';\n  text-align: start;\n`;\n\nconst StyledInput = styled.input`\n  outline: none;\n  border: none;\n  background-color: #f5f8fa;\n  border-radius: 0px;\n`;\n\n//在input type的部分，如果我們傳入type是password的話，使用者在輸入密碼的時候會是隱藏的狀態\n//input裡面值有變化的時候，觸發change的這個event，change event被觸發的時候，就會去呼叫onChange的這個props\nconst AuthInput = ({ type, label, value, placeholder, onChange }) => {\n  return (\n    <StyledContainer>\n      <StyledLabel>{label}</StyledLabel>\n      <StyledInput\n        type={type || 'text'}\n        placeholder={placeholder}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n      />\n    </StyledContainer>\n  );\n};\n\nexport default AuthInput;\n","import styled from 'styled-components';\n\nconst StyledHeader = styled.header`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  color: var(--major);\n  padding: 0 16px;\n\n  h3 {\n    font-weight: 400;\n    user-select: none;\n  }\n`;\n\nconst StyledGreetingText = styled.div`\n  color: var(--gray);\n  span {\n    color: var(--major);\n  }\n`;\n\nconst Header = ({ username }) => {\n  return (\n    <StyledHeader>\n      <h3>Tasks</h3>\n      <StyledGreetingText>\n        Hi <span>{username}</span>\n      </StyledGreetingText>\n    </StyledHeader>\n  );\n};\n\nexport default Header;\n","import styled from 'styled-components';\nimport clsx from 'clsx';\n\nconst StyledAddTodoContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  &.active {\n    box-shadow: 0 17px 0 -16px var(--major);\n  }\n`;\n\nconst StyledLabelIcon = styled.label`\n  display: inline-flex;\n  font-size: 30px;\n  transition: color 0.2s ease-out;\n  font-weight: 300;\n\n  &:after {\n    content: '+';\n  }\n`;\n\nconst StyledInputContainer = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  flex: 1;\n  user-select: none;\n\n  input {\n    flex: 1;\n    padding: 8px 12px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--major);\n      font-size: 13px;\n    }\n  }\n  .active {\n    input::placeholder {\n      color: var(--gray);\n    }\n  }\n`;\n\nconst StyledAddTodoActionContainer = styled.div`\n  button {\n    font-size: 13px;\n    color: var(--major);\n    padding-right: 5px;\n    display: none;\n  }\n\n  &.active {\n    button {\n      display: block;\n    }\n  }\n`;\n\nconst TodoInput = ({ inputValue, onChange, onKeyDone, onAddTodo }) => {\n  return (\n    <StyledAddTodoContainer\n      className={clsx('', { active: inputValue.length > 0 })}\n    >\n      <StyledLabelIcon className=\"icon\" htmlFor=\"add-todo-input\" />\n      <StyledInputContainer>\n        <input\n          id=\"add-todo-input\"\n          type=\"text\"\n          placeholder=\"新增工作\"\n          value={inputValue}\n          onChange={(e) => {\n            onChange(e.target.value);\n          }}\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') {\n              onKeyDone(inputValue);\n            }\n          }}\n        />\n      </StyledInputContainer>\n\n      <StyledAddTodoActionContainer\n        className={clsx('', { active: inputValue.length > 0 })}\n      >\n        <button className=\"btn-reset\" onClick={() => onAddTodo(inputValue)}>\n          新增\n        </button>\n      </StyledAddTodoActionContainer>\n    </StyledAddTodoContainer>\n  );\n};\n\nexport default TodoInput;\n","var _path, _path2, _path3, _path4;\nvar _excluded = [\"title\", \"titleId\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport * as React from \"react\";\nfunction SvgAcLogo(_ref, svgRef) {\n  var title = _ref.title,\n    titleId = _ref.titleId,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 40,\n    height: 40,\n    viewBox: \"0 0 40 40\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M25.6996 18.4709C25.6996 18.4709 18.2328 30.5781 12.1109 30.5781C1.40314 30.5781 11.3821 7.51318 19.1916 7.51318C24.641 7.51318 25.6996 18.4709 25.6996 18.4709Z\",\n    fill: \"#FF6600\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M34.5723 33.6972C32.4451 35.9607 29.8198 37.6976 26.9044 38.7701C23.989 39.8426 20.8639 40.2213 17.7767 39.8761C14.6895 39.5309 11.7252 38.4713 9.11881 36.7813C6.51245 35.0914 4.33573 32.8175 2.76123 30.1401C4.5314 32.5477 7.53375 34.1527 11.803 34.1527C22.3199 34.1527 28.2899 25.98 28.2899 25.98C28.2899 25.98 28.8062 32.4392 34.5593 33.6972H34.5723Z\",\n    fill: \"#FF6600\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M37.7223 10.7451C39.2963 13.7527 40.0781 17.1116 39.9939 20.505C39.9096 23.8984 38.9621 27.2144 37.2407 30.1401C35.8792 29.3764 34.8725 28.1082 34.4379 26.609L32.1558 19.7724L37.7223 10.7451Z\",\n    fill: \"#FF6600\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M20.0031 0.0173688C25.0185 0.0140335 29.8513 1.89881 33.5398 5.29665L29.7521 11.4088C28.3811 7.84302 25.5957 4.2729 20.1767 4.2729C9.07841 4.2729 0.852307 16.3888 0.852307 23.9846C0.849861 24.9669 0.975283 25.9454 1.22543 26.8953C0.115582 23.8725 -0.247948 20.6265 0.165719 17.4331C0.579385 14.2398 1.75802 11.1934 3.60147 8.55306C5.44491 5.91269 7.89866 3.75634 10.7542 2.26726C13.6097 0.778179 16.7826 0.000388507 20.0031 0V0.0173688Z\",\n    fill: \"#FF6600\"\n  })));\n}\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgAcLogo);\nexport default __webpack_public_path__ + \"static/media/ac-logo.f4e0f3cb.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/check-active.87d3b5e3.svg\";","export default __webpack_public_path__ + \"static/media/check-circle.2a77142c.svg\";","export default __webpack_public_path__ + \"static/media/check-hover.3c65dcae.svg\";","import styled from 'styled-components';\nimport { useRef } from 'react';\nimport clsx from 'clsx';\nimport {\n  CheckActiveIcon,\n  CheckCircleIcon,\n  CheckHoverIcon,\n} from 'assets/images';\n\nconst StyledTaskItem = styled.div`\n  min-height: 52px;\n  display: flex;\n  align-items: center;\n  position: relative;\n  word-wrap: break-word;\n  word-break: break-word;\n  padding: 0 12px;\n  box-shadow: 0 17px 0 -16px #e5e5e5;\n  flex-wrap: wrap;\n\n  .task-item-body-input {\n    user-select: none;\n    display: none;\n    flex: 1;\n    padding: 8px 0px;\n    border: 0;\n    outline: 0;\n    font-size: 1rem;\n\n    &::placeholder {\n      color: var(--gray);\n      font-size: 13px;\n    }\n  }\n\n  &:hover {\n    background: #ebfbff;\n    box-shadow: inset 0 0 0 1px #ebfbff;\n\n    .task-item-action .btn-destroy {\n      display: inline-flex;\n    }\n  }\n\n  &.done {\n    .task-item-body {\n      color: var(--gray);\n      text-decoration: line-through;\n    }\n\n    .icon-checked {\n      background-image: url(${CheckActiveIcon});\n    }\n  }\n\n  &.edit {\n    .task-item-body-input {\n      display: block;\n    }\n    .task-item-body-text {\n      display: none;\n    }\n    .task-item-action {\n      display: none;\n    }\n  }\n\n  .task-item-checked {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .task-item-body {\n    font-weight: 400;\n    padding: 8px 12px;\n    flex: 1;\n    display: flex;\n  }\n\n  .task-item-action {\n    .btn-destroy {\n      display: none;\n      font-size: 30px;\n      transition: color 0.2s ease-out;\n      font-weight: 300;\n      &:after {\n        content: '×';\n      }\n    }\n  }\n\n  .icon-checked {\n    background-image: url(${CheckCircleIcon});\n    background-position: center;\n    background-repeat: no-repeat;\n\n    &:hover {\n      transition: background-image 0.5s;\n      background-image: url(${CheckHoverIcon});\n    }\n  }\n`;\n\nconst TodoItem = ({ todo, onToggleDone, onSave, onDelete, onChangeMode }) => {\n  const inputRef = useRef(null);\n\n  const handleKeyDown = (event) => {\n    if (inputRef.current.value.length > 0 && event.key === 'Enter') {\n      onSave({ id: todo.id, title: inputRef.current.value });\n    }\n\n    if (event.key === 'Escape') {\n      onChangeMode({ id: todo.id, isEdit: false });\n    }\n  };\n\n  return (\n    <StyledTaskItem\n      className={clsx('', { done: todo.isDone, edit: todo.isEdit })}\n    >\n      <div className=\"task-item-checked\">\n        <span\n          className=\"icon icon-checked\"\n          onClick={() => {\n            onToggleDone(todo.id);\n          }}\n        />\n      </div>\n\n      <div\n        className=\"task-item-body\"\n        onDoubleClick={() => {\n          onChangeMode({ id: todo.id, isEdit: true });\n        }}\n      >\n        <span className=\"task-item-body-text\">{todo.title}</span>\n        <input\n          ref={inputRef}\n          className=\"task-item-body-input\"\n          defaultValue={todo.title}\n          onKeyDown={handleKeyDown}\n        />\n      </div>\n\n      <div className=\"task-item-action \">\n        <button\n          className=\"btn-reset btn-destroy icon\"\n          onClick={() => {\n            onDelete(todo.id);\n          }}\n        ></button>\n      </div>\n    </StyledTaskItem>\n  );\n};\n\nexport default TodoItem;\n","import TodoItem from './TodoItem';\n\nconst TodoCollection = ({\n  todos,\n  onToggleDone,\n  onSave,\n  onDelete,\n  onChangeMode,\n}) => {\n  return (\n    <div>\n      TodoCollection\n      {todos.map((todo) => {\n        return (\n          <TodoItem\n            key={todo.id}\n            todo={todo}\n            onToggleDone={onToggleDone}\n            onChangeMode={onChangeMode}\n            onSave={onSave}\n            onDelete={onDelete}\n          />\n        );\n      })}\n    </div>\n  );\n};\n\nexport default TodoCollection;\n","import styled from 'styled-components';\nimport { useAuth } from 'contexts/AuthContext';\n\nconst StyledFooter = styled.footer`\n  display: flex;\n  justify-content: space-between;\n\n  padding: 0 16px;\n  p {\n    font-size: 14px;\n    font-weight: 300;\n    margin: 2rem 0 1rem;\n  }\n`;\n\nconst StyledButton = styled.button`\n  padding: 0;\n  border: 0;\n  background: none;\n  vertical-align: baseline;\n  appearance: none;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  cursor: pointer;\n  outline: 0;\n\n  font-size: 14px;\n  font-weight: 300;\n  margin: 2rem 0 1rem;\n  &:hover {\n    text-decoration: underline;\n  }\n`;\n\nconst Footer = ({ numOfTodos }) => {\n  const { logout } = useAuth();\n\n  //引入logout函式\n  const handleClick = () => {\n    logout();\n    //logout函式會把localStorage裡的authToken去移除，然後把前端內部的資料(payload和Authenticated)做更新，所以也會讓TodoPage裡面的Authenticated改變，重新render，頁面會導向login\n  };\n  return (\n    <StyledFooter>\n      <p>剩餘項目數： {numOfTodos}</p>\n      <StyledButton onClick={handleClick}>登出</StyledButton>\n    </StyledFooter>\n  );\n};\n\nexport default Footer;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\n//import { ACLogoIcon } from 'assets/images';\nimport { SiTodoist } from 'react-icons/si';\nimport { AuthInput } from 'components';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from 'contexts/AuthContext';\n\nconst LoginPage = () => {\n  const [username, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const { login, isAuthenticated } = useAuth();\n\n  //handle點擊登入按鈕時的event，在點擊登入的button時會去呼叫handleClick這個function，handleClick這個function會再去呼叫auth.js裡面的login非同步function\n  const handleClick = async () => {\n    //防止使用者沒有輸入username和password\n    if (username.length === 0) {\n      return;\n    }\n    if (password.length === 0) {\n      return;\n    }\n    try {\n      //用AuthContext裡面的非同步login函式，可以拿到success的布林值\n      const success = await login({\n        username,\n        password,\n      });\n\n      //登入成功：從後端回傳回來的 success 是 true，用success的值去顯示我們的提示訊息\n      if (success) {\n        // 登入成功訊息\n        Swal.fire({\n          position: 'top',\n          title: '登入成功！',\n          timer: 1000,\n          icon: 'success',\n          showConfirmButton: false,\n        });\n        return;\n      }\n      //登入失敗\n      Swal.fire({\n        position: 'top',\n        title: '登入失敗！',\n        timer: 1000,\n        icon: 'error',\n        showConfirmButton: false,\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  // 我只要去check每個頁面的isAuthenticated的true或是false，來做切換頁面的動作\n  useEffect(() => {\n    //  驗證有成功的話\n    if (isAuthenticated) {\n      // 頁面跳轉到todo頁面\n      navigate('/todos');\n    }\n    //那如果isAuthenticated不為true的話就不做任何頁面套轉的動作\n  }, [navigate, isAuthenticated]); //因為有用到navigate這個function和isAuthenticated，所以就把它放到useEffect的dependency上\n\n  return (\n    <AuthContainer>\n      <div>\n        <SiTodoist style={{ color: 'skyblue', fontSize: '37px' }} />\n      </div>\n      <h1>登入 Todo</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          label={'帳號'}\n          placeholder={'請輸入帳號'}\n          value={username}\n          onChange={(nameInputValue) => setUserName(nameInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          type={'password'}\n          label={'密碼'}\n          placeholder={'請輸入密碼'}\n          value={password}\n          onChange={(passwordInputValue) => setPassword(passwordInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthButton onClick={handleClick}>登入</AuthButton>\n      <Link to=\"/signup\">\n        <AuthLinkText>註冊</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default LoginPage;\n","import {\n  AuthContainer,\n  AuthInputContainer,\n  AuthButton,\n  AuthLinkText,\n} from 'components/common/auth.styled';\n// import { ACLogoIcon } from 'assets/images';\nimport { SiTodoist } from 'react-icons/si';\nimport { AuthInput } from 'components';\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Swal from 'sweetalert2';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from 'contexts/AuthContext';\n\nconst SignUpPage = () => {\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const { register, isAuthenticated } = useAuth();\n\n  const handleClick = async () => {\n    if (username.length === 0) {\n      return;\n    }\n    if (password.length === 0) {\n      return;\n    }\n    if (email.length === 0) {\n      return;\n    }\n\n    const success = await register({\n      username,\n      email,\n      password,\n    });\n\n    //註冊成功：從後端回傳回來的 success 是 true，用success的值去顯示我們的提示訊息\n    if (success) {\n      Swal.fire({\n        position: 'top',\n        title: '註冊成功！',\n        timer: 1000,\n        icon: 'success',\n        showConfirmButton: false,\n      });\n      return;\n    }\n    //註冊失敗\n    Swal.fire({\n      position: 'top',\n      title: '註冊失敗！',\n      timer: 1000,\n      icon: 'error',\n      showConfirmButton: false,\n    });\n  };\n\n  // 我只要去check每個頁面的isAuthenticated的true或是false，來做切換頁面的動作\n  useEffect(() => {\n    //  驗證有成功的話\n    if (isAuthenticated) {\n      // 頁面跳轉到todo頁面\n      navigate('/todos');\n    }\n    //那如果isAuthenticated不為true的話就不做任何頁面套轉的動作\n  }, [navigate, isAuthenticated]); //因為有用到navigate這個function和isAuthenticated，所以就把它放到useEffect的dependency上\n\n  return (\n    <AuthContainer>\n      <div>\n        <SiTodoist style={{ color: 'ff6601', fontSize: '37px' }} />\n      </div>\n      <h1>建立您的帳號</h1>\n\n      <AuthInputContainer>\n        <AuthInput\n          label={'帳號'}\n          placeholder={'請輸入帳號'}\n          value={username}\n          onChange={(nameInputValue) => setUsername(nameInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          label={'Email'}\n          placeholder={'請輸入email'}\n          value={email}\n          onChange={(emailInputValue) => setEmail(emailInputValue)}\n        />\n      </AuthInputContainer>\n\n      <AuthInputContainer>\n        <AuthInput\n          type={'password'}\n          label={'密碼'}\n          placeholder={'請輸入密碼'}\n          value={password}\n          onChange={(passwordInputValue) => setPassword(passwordInputValue)}\n        />\n      </AuthInputContainer>\n      <AuthButton onClick={handleClick}>註冊</AuthButton>\n      <Link to=\"/login\">\n        <AuthLinkText>取消</AuthLinkText>\n      </Link>\n    </AuthContainer>\n  );\n};\n\nexport default SignUpPage;\n","import axios from 'axios';\n\nconst baseUrl = 'https://todo-list.alphacamp.io/api';\n\nconst axiosInstance = axios.create({\n  baseURL: baseUrl,\n});\n\naxiosInstance.interceptors.request.use(\n  (config) => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => {\n    console.error(error);\n  },\n);\n\nexport const getTodos = async () => {\n  try {\n    const res = await axiosInstance.get(`${baseUrl}/todos`);\n    return res.data.data;\n  } catch (error) {\n    console.error('[Get Todos failed]: ', error);\n  }\n};\n\nexport const createTodo = async (payload) => {\n  const { title, isDone } = payload;\n\n  try {\n    const res = await axiosInstance.post(`${baseUrl}/todos`, {\n      title,\n      isDone,\n    });\n    return res.data;\n  } catch (error) {\n    console.error('[Create Todo failed]: ', error);\n  }\n};\n\nexport const patchTodo = async (payload) => {\n  const { id, title, isDone } = payload;\n  try {\n    const res = await axiosInstance.patch(`${baseUrl}/todos/${id}`, {\n      title,\n      isDone,\n    });\n\n    return res.data;\n  } catch (error) {\n    console.error('[Patch Todo failed]:', error);\n  }\n};\n\nexport const deleteTodo = async (id) => {\n  try {\n    const res = await axiosInstance.delete(`${baseUrl}/todos/${id}`);\n    return res.data;\n  } catch (error) {\n    console.error('[Delete Todo failed]:', error);\n  }\n};\n","import { Footer, Header, TodoCollection, TodoInput } from 'components';\nimport { useState, useEffect } from 'react';\nimport { getTodos, createTodo, patchTodo, deleteTodo } from '../api/todos';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from 'contexts/AuthContext';\n\nconst TodoPage = () => {\n  const [inputValue, setInputValue] = useState('');\n  const [todos, setTodos] = useState([]);\n  const todoNums = todos.length;\n  const navigate = useNavigate();\n\n  const { isAuthenticated, currentMember } = useAuth();\n\n  //監聽器：handleChange\n  const handleChange = (value) => {\n    setInputValue(value);\n  };\n\n  //監聽器：handleAddTodo\n  const handleAddTodo = async (inputValue) => {\n    if (inputValue.length === 0) {\n      return;\n    }\n\n    //因為他也是非同步的操作，可能會有失敗的狀況，所以我也是用try catch把它包起來\n    try {\n      //會給後端儲存的資料有：title(我們輸入的資料是inputValue)、isDone(一開始todo建立時都是isDone都是false)\n      //然後因為我們是用await方法的話，我們的handleAddTodo這個函式要改成async function\n      //我們在createTodo裡面給payload，也就是給我們想要新增的資訊，在api的todo.js那裡就會去處理並return後端新增資料後的res.data，然後我們把這個res.data存到data裡面，再用setTodos來更新React裡面的todos的state\n      const data = await createTodo({\n        title: inputValue,\n        isDone: false,\n      });\n\n      //因為後端其實會實際幫我們generate實際的todo id，所以我們拿到data的時候，我們可以在setTodos的id那裡帶入後端幫我們產生的id，然後title和isDone都可以直接從後端建立好並傳來的data拿值\n      //跟getTodosAsync一樣，我們會帶上isEdit這個欄位，我們先給他false的值\n      setTodos((prevTodos) => {\n        return [\n          ...prevTodos,\n          {\n            id: data.id,\n            title: data.title,\n            isDone: data.isDone,\n            isEdit: false,\n          },\n        ];\n      });\n\n      setInputValue('');\n      console.log(data);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //監聽器：handleKeyPress （跟handleAddTodo同理）\n  const handleKeyPress = async (inputValue) => {\n    if (inputValue.length === 0) {\n      return;\n    }\n\n    //因為他也是非同步的操作，可能會有失敗的狀況，所以我也是用try catch把它包起來\n    try {\n      //會給後端儲存的資料有：title(我們輸入的資料是inputValue)、isDone(一開始todo建立時都是isDone都是false)\n      //然後因為我們是用await方法的話，我們的handleAddTodo這個函式要改成async function\n      const data = await createTodo({\n        title: inputValue,\n        isDone: false,\n      });\n\n      //因為後端其實會實際幫我們generate實際的todo id，所以我們拿到data的時候，我們可以在setTodos的id那裡帶入後端幫我們產生的id，然後title和isDone都可以直接從後端建立好並傳來的data拿值\n      //跟getTodosAsync一樣，我們會帶上isEdit這個欄位，我們先給他false的值\n      setTodos((prevTodos) => {\n        return [\n          ...prevTodos,\n          {\n            id: data.id,\n            title: data.title,\n            isDone: data.isDone,\n            isEdit: false,\n          },\n        ];\n      });\n\n      setInputValue('');\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  //監聽器：handleToggleDone\n  const handleToggleDone = async (id) => {\n    //會在handelToggleDone跟handleSave會去做PATCH的動作\n\n    //先找出使用者Toggle的項目\n    const currentTodo = todos.find((todo) => todo.id === id);\n\n    try {\n      await patchTodo({\n        id,\n        isDone: !currentTodo.isDone,\n      }); //可以看到Toggle只有改到isDone的true false，所以傳給patchTodo的payload只有id跟isDone的值\n\n      setTodos((prevTodos) => {\n        return prevTodos.map((todo) => {\n          if (todo.id === id) {\n            return {\n              ...todo,\n              isDone: !todo.isDone,\n            };\n          }\n          return todo; //其他todo原封不動傳回去\n        });\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  //監聽器：handleChangeMode {id,isEdit}是解構賦值\n  const handleChangeMode = ({ id, isEdit }) => {\n    setTodos((prevTodos) => {\n      return prevTodos.map((todo) => {\n        if (todo.id === id) {\n          return {\n            ...todo,\n            isEdit: isEdit,\n          }; //有被編輯的加上isEdit: true\n        }\n\n        return { ...todo, isEdit: false }; //其他沒有被編輯的加上isEdit: false\n      });\n    });\n  };\n\n  //監聽器：handleSave {id,title}是解構賦值\n  const handleSave = async ({ id, title }) => {\n    try {\n      await patchTodo({\n        id,\n        title,\n      });\n\n      setTodos((prevTodos) => {\n        return prevTodos.map((todo) => {\n          if (todo.id === id) {\n            return {\n              ...todo,\n              title: title,\n              isEdit: false,\n            };\n          }\n          return todo;\n        });\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  //監聽器：handleDelete {id,title}是解構賦值\n  const handleDelete = async (id) => {\n    try {\n      await deleteTodo(id);\n      setTodos((prevTodo) => prevTodo.filter((todo) => todo.id !== id));\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  //串接API: 從後端拿到我們所有todos 資料後會更新 todos 的state，畫面會重新更新\n  useEffect(() => {\n    const getTodosAsync = async () => {\n      //因為getTodos是非同步的操作，有可能會失敗，所以我們要用try catch把它包起來\n      try {\n        const todos = await getTodos(); //用await去取得所有後端todos的項目\n        setTodos(todos.map((todo) => ({ ...todo, isEdit: false }))); //把所有todo的property展開，並幫他加上isEdit這個property\n      } catch (error) {\n        console.error(error);\n      }\n    };\n    //getTodosAsync這個function定義完成之後，我們可以直接執行它\n    getTodosAsync();\n  }, []); //後面的dependency讓他是空的，因為只要在畫面一開始被渲染的時候才做操作\n\n  // 我只要去check每個頁面的isAuthenticated的true或是false，來做切換頁面的動作\n  useEffect(() => {\n    //  驗證沒有成功的話\n    if (!isAuthenticated) {\n      // 頁面跳轉到login頁面\n      navigate('/login');\n    }\n    //那如果isAuthenticated為true的話就不做任何頁面套轉的動作\n  }, [navigate, isAuthenticated]); //因為有用到navigate這個function和isAuthenticated，所以就把它放到useEffect的dependency上\n\n  //currentMember存在的話(用?.)\n  return (\n    <div>\n      TodoPage\n      <Header username={currentMember?.name} />\n      <TodoInput\n        inputValue={inputValue}\n        onChange={handleChange}\n        onAddTodo={handleAddTodo}\n        onKeyDone={handleKeyPress}\n      />\n      <TodoCollection\n        todos={todos}\n        onToggleDone={handleToggleDone}\n        onChangeMode={handleChangeMode}\n        onSave={handleSave}\n        onDelete={handleDelete}\n      />\n      <Footer numOfTodos={todoNums} />\n    </div>\n  );\n};\n\nexport default TodoPage;\n","import './App.scss';\nimport { BrowserRouter, Route, Routes } from 'react-router-dom';\nimport { TodoPage, LoginPage, SignUpPage, HomePage } from './pages';\n\nimport { AuthProvider } from 'contexts/AuthContext';\n\nconst basename = process.env.PUBLIC_URL\n\nfunction App() {\n  return (\n    <div className=\"app\">\n      <BrowserRouter basename={basename}>\n        <AuthProvider>\n          <Routes>\n            <Route path=\"login\" element={<LoginPage />} />\n            <Route path=\"signup\" element={<SignUpPage />} />\n            <Route path=\"todos\" element={<TodoPage />} />\n            <Route path=\"*\" element={<HomePage />} />\n          </Routes>\n        </AuthProvider>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}